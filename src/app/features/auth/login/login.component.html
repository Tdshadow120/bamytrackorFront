<div class="login-container">
  <div class="auth-card">
    <div class="brand-header">
      <div class="logo-mark">
        <img src="assets/images/bamytrucks.png"
             alt="Logo BamyTrucks"
             class="logo-img"
             (error)="onImageError($event)">
      </div>

      <h1 class="app-title">BamyTrakOr</h1>
      <!--      <p class="auth-instruction">Secure System Access</p>-->
    </div>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="auth-form">
      <div class="input-group">
        <div class="input-field">
          <svg class="input-icon" viewBox="0 0 24 24">
            <path d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"/>

          </svg>
          <input
            type="text"
            formControlName="username"
            placeholder="User ID"
            autocomplete="username"
          >
        </div>
      </div>

      <div class="input-group">
        <div class="input-field">
          <svg class="input-icon" viewBox="0 0 24 24">
            <path d="M19 10h-1V7a7 7 0 0 0-14 0v3H3a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1zM8 7a4 4 0 1 1 8 0v3H8zm4 10a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"/>
          </svg>
          <input
            [type]="hidePassword ? 'password' : 'text'"
            formControlName="password"
            placeholder="Access Code"
            autocomplete="current-password"
          >
          <!-- Update the password toggle button -->
          <button
            type="button"
            class="password-toggle"
            (click)="togglePasswordVisibility()"
          >
            <svg class="toggle-icon" viewBox="0 0 24 24" [class.visible]="!hidePassword">
              <!-- Eye closed state -->
              <path *ngIf="hidePassword" d="M12 4.5C7 4.5 2.7 7.6 1 12c1.7 4.4 6 7.5 11 7.5s9.3-3.1 11-7.5c-1.7-4.4-6-7.5-11-7.5zM12 17c-2.8 0-5-2.2-5-5s2.2-5 5-5 5 2.2 5 5-2.2 5-5 5zm0-8c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3z"/>

              <!-- Eye open state with line -->
              <g *ngIf="!hidePassword">
                <path d="M12 4.5C7 4.5 2.7 7.6 1 12c1.7 4.4 6 7.5 11 7.5s9.3-3.1 11-7.5c-1.7-4.4-6-7.5-11-7.5zM12 17c-2.8 0-5-2.2-5-5s2.2-5 5-5 5 2.2 5 5-2.2 5-5 5zm0-8c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3z"/>
                <line x1="4" y1="4" x2="20" y2="20" stroke="currentColor" stroke-width="2" class="strike-line"/>
              </g>
            </svg>
          </button>
        </div>
      </div>

      <button
        type="submit"
        class="auth-button"
        [disabled]="!loginForm.valid"
      >
        <span *ngIf="!loading">Authenticate</span>
        <div class="spinner" *ngIf="loading"></div>
      </button>

      <div class="error-message" *ngIf="loginError">
        âš  {{ loginError }}
      </div>
    </form>
  </div>
</div>
